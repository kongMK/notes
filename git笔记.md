# 版本控制软件(系统)
版本控制软件是一个记录文件变化，以便将来查阅特定版本修订情况的系统。  
操作简便、易于回溯、协作方便  

## 版本控制系统的分类  
1. **本地**版本控制系统  
特点：使用软件来记录文件的不同版本，提高了工作效率，减低手动维护版本的出错率。
缺点：单机运行，不支持多人协作开发，版本数据库故障，所有历史更新记录会丢失。


2. **集中化**版本控制系统  
(代表SVN)联网运行，支持多人协作开发，但是性能不好、用户体验不好。  
特点：基于 服务器/客户端 的运行模式，服务器保存文件的所有更新记录，客户端只保存最新的文件版本。  
缺点：不支持离线提交版本更新，中心服务器崩溃后，所有人都无法正常工作，版本数据库故障后，所有历史更新记录会丢失。  

3. **分布式**版本控制系统  
(代表Git)联网运行，支持多人协作开发，但是性能优秀、用户体验好。  
特点：基于 服务器/客户端 的运行模式，服务器保存文件的所有更新记录，客户端保存服务器的完全备份。  
客户端断网后支持离线本地提交版本更新.  
服务器故障或损坏后，可使用任何一个客户端的备份进行恢复  

## Git
Git 是一个开源的分布式版本控制系统，目前最先进、最流行的版本控制系统。  

* 高性能、高可用性  
git直接记录快照，而非差异比较  
> 传统的版本控制系统是基于 差异比较 的版本控制，它们存储的是 一组基础文件和每个文件随时间逐步累计的差异。  

> Git记录快照在原有文件版本的基础上重新生成一份新的文件，类似备份。为了效率，如果文件没有修改，Git不再重新存储该文件，而是只保留一个链接指向之前存储的文件。

近乎所有操做都是本地执行  
> 在Git中绝大多数操作都是只需要访问本地文件和资源，一般不需要来自网络上其他计算机的信息。  
断网后依旧可以在本地对项目进行版本管理  
联网后，把本地修改的记录同步到云端服务器即可  

* Git 管理的项目，拥有三个区域，分别是**工作区**、**暂存区**、**Git仓库**  

* Git 中的三种状态  
 **已修改**(modified): 表示修改了文件，但是修改结果还没放到**暂存区**  
 **已暂存**(staged):  表示对已修改文件的当前版本做了标记放入**暂存区**，使之包含在下次提交的列表中  
 **已提交**(committed): 表示文件已经安全的存放到本地的**Git仓库**

* [官网]<https://git-scm.com/downloads>

## 配置
1. 配置用户信息  
```powershell
git config --global user.name "用户名"
git config --global user.email "邮箱"
```
通过`--global`配置的信息会被写到用户的 C:/Users/用户名文件夹/.gitconfig 文件中。  
这是git的全局配置文件，配置一次即可永久生效。

```powershell
# 查看所有全局配置项
git config --list --global
# 查看指定的全局配置项
git config user.name "用户名"
git config user.email "邮箱"

# 在浏览器打开 git config 的命令帮助手册
git help config
# 在终端打开 git config 的命令快速参考
git config -h
```

# 获取仓库
1. 将尚未进行版本控制的本地目录转换为Git仓库  
2. 从其服务器克隆一个已存在的Git仓库  
```powershell
<# 
  初始化仓库，git init 会创建一个 .git 的隐藏目录，这个目录是就是当前目录的Git仓库,里面包含了初始的必要文件，这些文件是Git仓库的必要组成部分。
#>
git init
```

* 工作区中文件的4种状态分为两类  
1. 未被git管理:
> 未跟踪(Untracked)：不被git所管理

2. 已被git管理:
> 未修改(Unmodified): 工作区中文件的内容和**git仓库**中文件的内容一致。

> 已修改(Modified): 工作区中文件的内容和**git仓库**中文件的内容不一致。
  
> 已暂存(staged): 工作区中被修改的文件已被放到**暂存区**,准备将修改后的文件保存到**git仓库**。
```powershell
# 检查文件当前状态
git status

# 检查文件当前状态，已精简的方式显示文件的状态
git status --short # --short 可以简写为 -s

<# 
  跟踪新文件
  把已跟踪且修改的文件放到暂存区
  把有冲突的文件标记为已解决状态
#>
git add 文件名 # .表示全部

# 提交更新 -m 表示本次提交的描述信息
git commit -m "对提交描述"

<# 
  撤销对文件的修改，还原成Git仓库中所保存的版本。
  所有修改会丢失无法恢复，请谨慎操作。
#>
git checkout -- 文件名

# 移除暂存区中的文件
git reset HEAD 文件名

# 跳过暂存区，直接提交到仓库
git commit -a -m '描述'


```
